[package]
name = "setlist"
version = "0.1.0"
edition = "2024"
description = "Setlist functionality for FastTrackStudio with clean architecture"
license = "MIT OR Apache-2.0"
repository = "https://github.com/your-org/FastTrackStudio"
keywords = ["audio", "daw", "setlist", "songs", "performance"]
categories = ["multimedia::audio", "development-tools"]

[features]
default = []
reaper = []
rpp = ["rpp-parser"]
dioxus = ["dep:dioxus"]
full = ["reaper", "rpp"]

[dependencies]
# Core dependencies
serde = { version = "1.0", features = ["derive"] }
thiserror = "2.0.17"
uuid = { version = "1.0", features = ["v4", "serde", "js"] }
serde_json = "1.0"
chrono = { version = "0.4", features = ["serde"] }

# Server-only dependencies (excluded for WASM builds)
[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
tokio = { version = "1.48.0", features = ["full"] }
irpc = { workspace = true }
irpc-iroh = "0.11.0"
iroh = { version = "0.95", features = ["discovery-local-network"] }
anyhow = "1.0"
async-trait = "0.1"
tracing = "0.1"

# Workspace dependencies
primitives = { path = "../../daw/primitives" }
marker-region = { path = "../../daw/marker-region" }
project = { path = "../../daw/project" }
transport = { path = "../../daw/transport" }

# HTTP infrastructure (optional - to be implemented later)
# axum = { version = "0.8.6", optional = true, features = ["default", "ws"] }
# axum-test = { version = "14.0", optional = true }
# tower = { version = "0.5.2", optional = true, features = ["full"] }
# tower-http = { version = "0.5", optional = true, features = ["cors", "trace"] }

# WebSocket infrastructure (optional - to be implemented later)
# futures-util = { version = "0.3", optional = true, features = ["sink", "std"] }

# REAPER integration (commented out - not available on crates.io)
# reaper-rs = { version = "0.1", optional = true }
# reaper-high = { version = "0.1", optional = true }
# reaper-medium = { version = "0.1", optional = true }

# RPP file parsing (optional)
rpp-parser = { version = "0.1", optional = true }

# Dioxus integration (optional)
[dependencies.dioxus]
workspace = true
optional = true
default-features = true

[dev-dependencies]
tokio-test = "0.4"
tempfile = "3.0"
serde_json = "1.0"
reqwest = { version = "0.11", features = ["json"] }

# Examples will be added later when example files are created
# [[example]]
# name = "basic_usage"
# path = "examples/basic_usage.rs"

# [[example]]
# name = "reaper_integration"
# path = "examples/reaper_integration.rs"
# required-features = ["reaper"]

# [[example]]
# name = "rpp_parsing"
# path = "examples/rpp_parsing.rs"
# required-features = ["rpp"]

[package.metadata.docs.rs]
features = ["full"]
rustdoc-args = ["--cfg", "docsrs"]

[lints]
workspace = true
