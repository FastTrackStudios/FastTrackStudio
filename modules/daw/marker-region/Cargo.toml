[package]
name = "marker-region"
version = "0.1.0"
edition = "2024"
description = "Marker and region functionality for DAW applications with clean architecture"
license = "MIT OR Apache-2.0"
repository = "https://github.com/your-org/FastTrackStudio"
keywords = ["audio", "daw", "markers", "regions", "timeline"]
categories = ["multimedia::audio", "development-tools"]

[features]
default = []
rpp = ["rpp-parser"]
full = ["rpp"]
tauri = ["dep:taurpc"]

[dependencies]
# Core dependencies
serde = { version = "1.0", features = ["derive"] }
taurpc = { version = "0.5.2", optional = true }
thiserror = "1.0"
tokio = { version = "1.48.0", features = ["full"] }
uuid = { version = "1.0", features = ["v4"] }
serde_json = "1.0"

# Workspace dependencies
primitives = { path = "../primitives" }

# HTTP infrastructure (optional - to be implemented later)
# axum = { version = "0.8.6", optional = true, features = ["default", "ws"] }
# axum-test = { version = "14.0", optional = true }
# tower = { version = "0.5.2", optional = true, features = ["full"] }
# tower-http = { version = "0.5", optional = true, features = ["cors", "trace"] }

# WebSocket infrastructure (optional - to be implemented later)
# futures-util = { version = "0.3", optional = true, features = ["sink", "std"] }

# REAPER integration (commented out - not available on crates.io)
# reaper-rs = { version = "0.1", optional = true }
# reaper-high = { version = "0.1", optional = true }
# reaper-medium = { version = "0.1", optional = true }

# RPP file parsing (optional)
rpp-parser = { version = "0.1", optional = true }

[dev-dependencies]
tokio-test = "0.4"
tempfile = "3.0"
serde_json = "1.0"
reqwest = { version = "0.11", features = ["json"] }

# Examples will be added later when example files are created
# [[example]]
# name = "basic_usage"
# path = "examples/basic_usage.rs"

# [[example]]
# name = "reaper_integration"
# path = "examples/reaper_integration.rs"
# required-features = ["reaper"]

# [[example]]
# name = "rpp_parsing"
# path = "examples/rpp_parsing.rs"
# required-features = ["rpp"]

# [[example]]
# name = "http_server"
# path = "examples/http_server.rs"
# required-features = ["http"]

# [[example]]
# name = "websocket_server"
# path = "examples/websocket_server.rs"
# required-features = ["websocket"]

[package.metadata.docs.rs]
features = ["full"]
rustdoc-args = ["--cfg", "docsrs"]
